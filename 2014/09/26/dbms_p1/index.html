<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Jin › 第十一篇-Database Management Systems-Part Ⅰ笔记</title>
  <meta name="author" content="Jin Liu">
  
  <meta name="description" content="在看Database Management Systems: Second Edition 的Part Ⅰ，以下记录自己新的理解
PART Ⅰ BASICS
本章主要内容">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="第十一篇-Database Management Systems-Part Ⅰ笔记"/>
  <meta property="og:site_name" content="Jin"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Jin" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32857089-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">Jin</a></h1>
  <h2><a href="/">Newer@Computer</a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/about">关于我</a></li>
      
      <li><a href="/archives">文章归档</a></li>
      
      <li><a href="/links">相关链接</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title">第十一篇-Database Management Systems-Part Ⅰ笔记</h1>
  

      
      <time datetime="2014-09-26T06:11:53.000Z">9月 26 2014</time>
      
    </header>
    <div class="entry">
      
        <p><em>在看Database Management Systems: Second Edition 的Part Ⅰ，以下记录自己新的理解</em></p>
<h1 id="PART_Ⅰ_BASICS">PART Ⅰ BASICS</h1>
<h2 id="本章主要内容"><strong>本章主要内容</strong></h2>
<p><a id="more"></a></p>
<ul>
<li>INTRODUCTION TO DATABASE SYSTEMS<ul>
<li>如今，比以前任何时刻，一个机构的成功依赖于它准确即时的获取它运营的数据，有效地操作这些数据，使用它们分析和知道它们的行动的能力，信息高速公路（<em>information superhighway</em>）这类短语变得无处不在，信息处理正迅速变成一个价值数十亿美元的产业</li>
<li>我们能够利用的数据的数量在爆炸式的增长，将数据作为公司资产已经是被广泛认可的，然而如果没有管理这些大量数据并且从中迅速获得一个相关问题的信息的能力，即使信息数量不断增加，它们也只能让人分心和变成负担，而不是成为公司价值。这一悖论趋势人们寻找日益强大并且灵活的数据管理系统（<em>data management systems</em>）。为了从这些巨大而又复杂的数据集中获得最多价值，用户需要有一些工具来使得数据管理和即时提取有用数据变得简单。否则，获取数据管理数据的开销会远远超过从中获取的价值，这使得数据变成了负担</li>
<li>数据库（<strong>database</strong>）是数据的集合，通常用来描述一个或者多个相关机构的活动。例如，一个大学数据库可能包括如下信息：<ul>
<li>实体（<em>entity</em>），如学生，教师，课程和教室</li>
<li>实体间关系（<em>relationship</em>），如学生入学课程，教师教授课程，课程安排在哪个教室上课等等</li>
</ul>
</li>
<li>数据库管理系统（<em>database management system or DBMS</em>），是用来维护和利用海量数据的软件，而且对于它们的需求和使用在迅速增加。DBMS的替代品是一些特别的方法（ad hoc approach），某一个应用的方法不能使用在其它不同类型的应用上，例如，可以将数据保存在文件中，然后编写特定应用的代码来管理这些数据，数据库的使用有几个非常重要的有点，后面会讲</li>
<li>总之，数据库管理系统领域是计算机科学的一个缩影，它解决的问题和使用的技术跨度很大，包括编程语言，面向对象，数据结构，算法，理论，并行和分布式系统以及动态编程，在这本书中，我们不能研究数据库管理系统所涉及的各个方面，但是我们需要知道，数据库管理系统是一门非常丰富并且充满活力的学科</li>
<li>OVERVIEW<ul>
<li>本书的目的是为了深入介绍数据库管理系统，重点介绍如何在DBMS中组织维护和检索数据，也就是说介绍如何设计数据库（<em>database</em>）和高效的使用DBMS。因此为了更好的利用DBMS，就有必要明白DBMS的工作原理，本书的方法是，重点介绍如何使用DBMS，同时覆盖一些使我们更容易理解数据库设计（<em>design a database</em>）需要理解的DBMS的实现和架构的足够多的细节</li>
<li>有各种各样的数据库管理系统正在被使用，但是本书专注于关系数据库系统，是到目前为止数据库管理系统中最主要的类型，本书核心章节解决了如下问题：<ul>
<li>数据库设计（<strong>Database Design</strong>）：用户如何利用保存在DBMS中的数据定义一个（<em>enterprise</em>）企业（如一所大学）。我们需要考虑什么来决定组织存储的数据（2，3，15，16，17章）</li>
<li>数据分析（<strong>Data Analysis</strong>）：如何通过提交对DBMS中存储的数据的查询来解决企业（<em>enterprise</em>）现实中碰到的问题（4，5，6，23章）</li>
<li>并发性和鲁棒性（<strong>Concurrency and Robustness</strong>）：DBMS是如何让多个用户同时获取数据，如何在系统出现故障时保护其中的数据（18，19，23章）</li>
<li>效率和可扩展性（<strong>Efficiency and Scalability</strong>）：DBMS如何存储大型数据集以及解决高效地解决依赖于这些数据的问题（7，8，9，10，11，12，13，14章）</li>
</ul>
</li>
<li>后续章节涵盖了一些重要并且快速发展的主题，如并行和分布式数据库管理系统（<em>parallel and distributed database management</em>），网络数据库（<em>Internet databases</em>），数据仓库（<em>data warehousing</em>）和决策支持的复杂查询（<em>complex query for decision support</em>），数据挖掘（<em>data mining</em>），对象数据库（<em>object databases</em>），空间数据管理（<em>spatial data management</em>）以及面向规则的DBMS扩展（<em>rule-oriented DBMS extensions</em>）</li>
<li>本章剩下部分，我们会介绍上述问题。1.2节，我们介绍数据库的一些历史，并且讨论现代信息系统中数据库管理系统扮演的角色。1.3节我们指出在DBMS中而不是在文件系统中保存数据的优点，在1.4节讨论用DBMS管理数据的优点，1.5节我们讨论关于一个企业（<em>enterprise</em>）的数据在DBMS中应该如何被组织和存储，用户可以在同组织/企业（<em>organization/enterprise</em>）中的实体和他们的关系一致的层面上来思考这个问题，尽管DBMS最后基本上是按bit来存储数据的。用户认为的数据形式和数据在DBMS中最后的存放形式是通过DBMS的几个抽象级别（<em>levels of abstraction</em>）来桥接的，直观的说，用户可以在一个很高的层次来描述数据和设计数据库，然后通过考虑额外的存储和细节的表达来优化那些描述和设计。1.6节，考虑如何从DBMS中检索数据，高效地解决依赖这些数据的问题的类似技术需求，1.7节提供一个概述，描述DBMS如何支持并发数据访问以及它如何在系统故障是保护存储的数据</li>
<li>在1.8节我们简单地描述一下DBMS的内部结构，在1.9节提到涉及到开发和使用DBMS的各种不同人群</li>
<li>A HISTORICAL PERSPECTIVE<ul>
<li>从早期计算机开始，存储和维护数据就是一个主要的应用程序焦点。最早的一般用途的DBMS由通用电气（<em>General Electric</em>）的查尔斯·巴赫曼（<em>Charles Bachman</em>）在20世纪60年代设计出来，并且被叫做综合数据仓库（<em>Integrated Data Store</em>）。它成为了网络数据模型（<em>network data model</em>）的基础，这个模型由数据系统语言协会（<em>Conference on Data System Languages</em>）标准化并且在20世纪60年代对数据库系统有着强烈的影响。由于他在数据库领域的工作，Bachman是第一位ACM的图灵奖获得者，并且于1973年获得该奖</li>
<li>20世纪60年代后期，IBM开发了信息管理系统数据库管理系统（<em>Information Management System, IMS DBMS</em>），在许多重要的设施中，它们沿用至今。IMS形成了另一中数据表现框架的基础，叫做分级数据模型（<em>hierarchical data model</em>），同时，机票预订系统SABER由美国航空公司（<em>American Airlines</em>）和IBM联合开发出来，它允许用户通过计算机网络访问相同的数据。有趣的是，SABRE系统如今还在给基于web的旅游服务系统Travelocity提供支持！</li>
<li>1970年，IBM的圣何塞研究实验室（<em>San Jose Research Laboratory</em>）的Edgar Codd提出了一个新的数据表示框架（<em>data representation framework</em>），叫做关系数据模型（<em>relational data model</em>），它被证明是数据库系统发展的分水岭：它引发了一些基于关系模型的数据库管理系统的迅速发展，以及伴随丰富的理论成果使得这一领域有着坚实的基础。由于他开创性的工作，Codd获得了1981年的图灵奖，数据库系统成熟到成为一个学术科目，关系型DBMS也改变了商业蓝图。它们的优点被广泛认可，并且使用DBMS管理企业数据成为标准惯例</li>
<li>20世纪80年代，关系模型巩固它的地位主导DBMS的泛型，数据库系统也不断的得到广泛的使用。关系型数据库的SQL查询语言，作为IBM的系统R项目（<em>System R Project</em>）而开发的一部分，成为了标准查询语句。SQL在20世纪80年代后期被标准化，目前的标准SQL-92，被美国国家标准协会（<em>American National Standards Institute</em>）和国际标准化组织（<em>International Standards Organization</em>）采用。可以说，冰法程序设计的最广泛的使用形式是数据库程序的并发执行方式（它叫做事务），用户认为他们编写的程序能够很好地运行，而真正并发的执行用户的那些程序是由DBMS负责。由于在DBMS的事务管理领域的贡献，James Gray获得了1999年的图灵奖</li>
<li>在20世纪80年代后期以及20世纪90年代，很多领域利用了数据库系统。为了更强大的查询语言和更丰富的数据模型进行了大量的研究，并且重点是支持一个企业（<em>enterprise</em>）各个部分的复杂数据分析。许多产品（例如IBM的DB2，Oracle 8，Informix UDS）扩展了他们的系统，使得新的数据类型，如图像，文本也能够存储，还能够提交更复杂的查询语句，许多供应商都开发了各种专门的系统来创建数据仓库，来整合多个数据库，用来进行更专业的分析</li>
<li>一个有趣的现象是，一些企业资源管理（<em>Enterprise resource planning ERP</em>）和管理资源规划（<em>Management resource planning MRP</em>）包（<em>package</em>）的出现，它们在DBMS面向应用特征添加了实质性的层，广泛使用的包来自于Baan，Oracle，PeopleSoft，SAP和Sieble。这些包确定一些大量租住都会遇到的常见的任务（例如存货管理，人力资源规划和财务分析），并且提供一个通用的应用层来解决这些任务。数据存储在关系型数据库管理系统中（<em>relational DBMS</em>），并且应用层可以为不同公司定制，相对于为公司从头开始定制应用层，这种方式能够降低总成本。</li>
<li>最重要的，可能是DBMS遇上了互联网时代（the Internet Age），最初的网站将数据唯一的存储在操作系统文件中，通过WEB浏览器获得的数据使用DBMS来存储变得普及了。查询（<em>query</em>）通过WEB可访问（<em>web-accessible</em>）表格生成，为了便于在浏览器中呈现，查询结果通常使用一种标记语言如HTML来生成。为了使得更加方便和合适地进行Internet开发，所有数据库厂商都在它们的DBMS中增加了相关特性</li>
<li>随着越来越多的数据以及通过计算机网络越来越容易获取，数据库管理持续保持着它的重要性。今天，这个领域被很多激动人性的愿景所驱动，例如多媒体数据库（<em>multimedia databases</em>），互动视频（<em>interactive video</em>），数字图书馆（<em>digital libraries</em>），一系列科学项目，例如人类基因绘图工作（the human genome mapping effort）和美国宇航局的地球观测系统项目（<em>NASA’s Earth Observation System project</em>），以及企业巩固它们的决策过程（<em>consolidate their decision-making processes</em>）和从它们的数据仓库中挖掘出关于它们商业有用的信息的期望。商业上来说，数据库管理系统代表了最大以及最激烈的细分市场，因此数据库系统的研究能够从多方面得到回报！</li>
</ul>
</li>
<li>FILE SYSTEM VERSUS A DBMS<ul>
<li>为了理解对DBMS的需求，我们考虑一个激动人心的情景：一个公司拥有大量关于员工，部门，产品，销售等的数据集（比如500GB），这些数据被一些员工并发访问，关于这些数据的问题需要被快速的回答，不同用户对这些数据的修改需要满足一致性，对某些数据（例如工资）的访问需要禁止</li>
<li>我们通过将数据集存放在操作系统文件中来尝试解决这些问题，这种方法有很多缺点，包括：<ul>
<li>我们可能没有500GB的内存来容纳所有的数据，因此需要将数据存放到磁带或者磁盘，然后根据需要将相关部分放入内存处理</li>
<li>即使我们有500GB的内存，在一个32位的系统中，我们不能对大于4GB的数据进行引用，我们需要通过编程来识别所有500GB数据</li>
<li>为了回答用户可能对数据所提出的问题，需要为每一个问题编写特殊的程序，程序很可能非常复杂，因为有大量的数据需要搜索</li>
<li>我们需要保护数据以免不同用户并发访问数据而造成的不一致的修改，如果访问数据的程序要自己处理并发，这显然很大程度上加大了程序的复杂度，给程序员带来了很大麻烦</li>
<li>如果在对数据进行一些修改的时候系统崩溃了，我们需要能够保证数据能够恢复到一个一致的状态</li>
<li>操作系统只提供了一个用户密码的安全机制，这不够十分灵活来保证不同用户拥有对数据子集的不同的权限的安全机制</li>
</ul>
</li>
<li>DBMS被设计得使上述处理任务变得容易。通过将数据存放在DBMS中，而不是存放在操作系统的文件系统中，我们可以使用DBMS的功能对数据进行健壮并且有效的处理。随着数据量和用户量的增加，对于当前企业的数据库大量的用户和数据都有着很多相同之处，这使得DBMS变得必不可少</li>
</ul>
</li>
<li>ADVANTAGES OF A DBMS<ul>
<li>使用DBMS管理数据有许多优点：<ul>
<li><strong>数据独立性（Data independence）：</strong> 应用程序需要尽可能的和数据表示和数据存储的细节相独立，DBMS能够提供数据的抽象视图使得应用程序和那些细节隔离</li>
<li><strong>高效数据访问（Efficient data access）：</strong>DBMS利用大量复杂的技术来高效地存储和访问数据，当数据存放在外部存储设备中时，这些技术非常重要</li>
<li><strong>数据完整性和安全性（Data integrity and security）：</strong>如果数据通过DBMS来访问，DBMS可以对数据实施完整性约束，例如，在给一个员工插入薪资信息前，DBMS能够检查部门预算是否超出。此外，DBMS能够对数据进行访问控制约束，管理不同级别的用户对数据的访问</li>
<li><strong>数据管理（Data administration）：</strong>当多个用户共享数据时，集中数据管理可以带来很大提升，有经验的专业人士理解被管理数据的性质并且知道不同用户是怎么使用它们的，并且知道如何组织数据使得冗余数据最小以及知道如何微调数据存储使得数据检索更高效</li>
<li><strong>并发访问以及故障恢复（Concurrent access and crash recovery）：</strong>DBMS使用这种方式来安排并发数据访问：用户可以认为任意时刻数据只有他自己在使用，此外，DBMS保护用户不受系统故障的影响</li>
<li><strong>减少应用开发时间（Reduced application development time）：</strong>很显然，DBMS支持很多重要的特征，这些特征对于许多访问存放在DBMS中的数据的应用通用的，连同高层访问数据的接口，减轻了快速开发应用的压力。这样开发出来的应用程序同样比从头开始开发的程序要更健壮，因为很多重要的任务都交由DBMS来处理而不是由应用程序自己处理</li>
</ul>
</li>
<li>鉴于这些优点，难道还有不适用DBMS的理由么？DBMS是复杂的软件，对某些类型的工作负载进行优化（例如回答复杂的查询或者处理许多并发请求），并且它的性能可能不符合某些特殊的应用。例如严格的实时性约束的应用或者那些只有一部分定义良好的非常重要的操作的应用，需要为这些操作需要编写高效的自定义代码。另一个不适用DBMS的原因是某些应用可能需要操作数据，但是查询语言不支持这些操作。在这些情况下，DBMS提供的数据抽象视图不符合应用的需要。例如，关系数据库不支持灵活的文本数据分析（尽管开发商在这个方向上在扩展它们的产品）。如果某些特殊的性能要求或者数据操作需求是某个应用的核心，这些应用就可能不会选择DBMS，特别是当DBMS本身的那些优点（例如灵活的查询，安全性，并发访问和故障恢复）并不需要的时候。然而，在需要大规模数据管理的很多情形下，DBMS还是不可或缺的工具</li>
</ul>
</li>
<li>DESCRIBING AND STORING DATA IN A DBMS<ul>
<li>DBMS用户最终关心的是一些现实世界的企业（<em>enterprise</em>），以及描述企业不同方面所需要存储的数据。例如，大学里面有学生，老师和课程，并且一个大学数据库中的数据描述这些实体（<em>entity</em>）和它们的关系</li>
<li>数据模型（<strong>data model</strong>）是指一个高层数据结构描述的集合，它隐藏了许多底层存储的细节。DBMS允许用户按照数据模型来定义需要存储的数据。大多数DBMS都以关系数据模型（<strong>relational data model</strong>）为基础，本书专注于此</li>
<li>尽管DBMS的数据模型隐藏了非常多的细节，相比用户对企业的直观考虑，它任然更加接近DBMS对数据的存储。语义数据模型（<strong>semantic data model</strong>）是更加抽象，高级的数据模型，它使得用户更加容易提出企业中数据的最初描述，这些模型中包含了各种各样的结构，它们用来帮助描述一个真是的应用场景。DBMS并不直接支持这些结构，它通常是围绕一些拥有基础结构的数据模型上建立起来的，如关系模型。依据语义模型的数据库设计通常作为设计起点，随后转换成DBMS实际支持的数据模型进行数据库设计</li>
<li>一个广泛使用的语义数据模型叫做实体关系模型（<em>entity-relationship model</em>），它允许我们画图一般地定义实体和实体间的关系，我们将在第二章讲述ER图</li>
<li>The Relational Model<ul>
<li>这一节简单介绍关系模型，这个模型的中心数据描述结构叫做关系（<strong>relation</strong>），可以将关系想象成一些记录的集合（a set of <strong>records</strong>）</li>
<li>依据数据模型的数据描述叫做模式（<strong>schema</strong>），在关系模型中，模式指定每个关系的名字，每个域或属性或列（<strong>field or attribute or column</strong>）的名字。例如，一个大学数据库的学生信息可能按照如下关系存放，它的模式如下：<ul>
<li>Students(<em>sid</em>: string, <em>name</em>: string, <em>login</em>: string, <em>age</em>: integer, <em>gpa</em>: real)</li>
</ul>
</li>
<li>上面的模式说明在Students关系中的每一条记录有5个属性，每一个属性有自己的名字和类型，Students关系的一个简单实例如下图<br><img src="/img/dbms1.1.png" alt="Students关系实例"></li>
<li>Students关系中的每一行描述一个学生，这些描述并不完全，例如学生的身高没有包含在内——但是对于大学数据库来说这些信息可能已经是足够的了，每一行都按照Students关系的模式。学生模式因此可以看做是描述一个学生的模板</li>
<li>我们通过指定完整性约束可以使得对学生集合的描述更加精确，完整性约束是指关系中的记录（<em>例如上面表中的每一行</em>）必须要满足的条件。例如我们可以指定每一个学生需要有一个唯一的sid，观察到我们不能通过想Students模式中添加域来满足上述要求。因此为模式中某个域分配唯一值的能力提高了我们描述数据的精度。能够指定完整性约束的结构是数据模型的一个很重要的方面</li>
<li>Other Data Model<ul>
<li>除了关系数据模型（在无数系统中得到应用，包括IBM的DB2，Informix，Oracle，Sybase，微软的Access，FoxBase，Paradox，Tandem和Teradata），其他重要的数据模型包括分层模型（hierarchical model，在IBM的IMS DBMS中使用），网络模型（network model，在IDS的IDMS中使用），面向对象模型（object-oriented model，在Objectstore和Versant中使用）以及对象关系模型（object-relational model，在IBM的DBMS产品中，Informix，ObjectStore，Oracle，Versant等中使用）。尽管有很多数据库使用分层模型和网络模型以及一些以面向对象模型和对象关系模型为基础的系统在市场上获得认可，在今天占主导地位的还是关系模型</li>
<li>本书中，我们主要关注关系模型，因为关系模型的广泛使用和重要性。事实上，受到人们欢迎的对象关系模型，尝试将关系模型的最好的特性和面向对象模型的特性结合起来，因此，对关系模型的好的理解是去理解对象关系模型所必须的（第25章将讨论对象关系模型）</li>
</ul>
</li>
</ul>
</li>
<li>Levels of Abstraction in a DBMS<ul>
<li>DBMS中的数据按照3个抽象层次来描述，如下图所示，数据库描述在三个抽象层次的每一层都包含一个模式（<em>schema</em>）：概念模式（<em>conceptual</em>），物理模式（<em>physical</em>）和外部模式（<em>external</em>）<br>!(DBMS的抽象层次)[/img/dbms-1.2.png]</li>
<li>数据定义语言（<strong>data definition language DDL</strong>）用来定义外部模式和概念模式。关于概念模式，外部模式和物理模式的信息都保存在系统目录（<strong>system catalogs</strong>）中。接下来我们将讨论这三层抽象<ul>
<li>Conceptual Schema<ul>
<li>概念模式（有时候叫做逻辑模式）是依照DBMS中的数据模型所存储的数据。在关系型DBMS中，概念模式描述所有存放在数据库中的关系（<em>或关系表relation</em>），在我们简单地大学数据库中，这些关系包括实体（<em>entity</em>）如学生实体，教师实体，以及实体间的关系（<em>relationship</em>），如学生入学课程，所有的学生实体可以用学生关系表中的记录来描述，如我们前面看到的一样。事实上，每一个实体集合或者关系集合都可以用一个关系表来描述，就形成了如下的概念模式：<ul>
<li>Students(<em>sid:</em> string, <em>name:</em> string, <em>login:</em> string, <em>age:</em> integer, <em>gpa:</em> real)</li>
<li>Faculty(<em>fid:</em> string, <em>fname:</em> string, <em>sal:</em> real)</li>
<li>Course(<em>cid:</em> string, <em>cname:</em> string, <em>credits:</em> integer)</li>
<li>Rooms(<em>rno:</em> integer, <em>address:</em> string, <em>capacity:</em> integer)</li>
<li>Enrolled(<em>sid:</em> string, <em>cid:</em> string, <em>grade</em>: string)</li>
<li>Teaches(<em>fid:</em> string, <em>cid:</em> string)</li>
<li>Meets_In(<em>cid:</em> string, <em>rno:</em> integer, <em>time:</em> string)</li>
</ul>
</li>
<li>关系表的选择，以及每个关系中域的选择，不是总是明显的，获得好的概念模式的处理过程就叫做概念模式数据库设计（<strong>conceptual database design</strong>），在第2章和第15章将讨论概念设计</li>
</ul>
</li>
<li>Physical Schema<ul>
<li>物理模式指定额外的存储细节。本质上来说，物理模式总结了关系模式中描述的的关系如何存储在二级存储设备如磁盘和磁带中</li>
<li>我们需要决定存储关系的文件结构，并且创建名叫索引的辅助数据结构来加速数据检索操作。对大学数据库的物理模式的样例如下：<ul>
<li>将所有关系存储为未排序的记录文件（DBMS中的文件指的是一些记录的集合或者页面的集合，而不是操作系统中的文件）</li>
<li>为Students，Faculty，Course关系表的第一列，Faculty的sal列，Rooms的capacity列建立索引</li>
</ul>
</li>
<li>物理模式的抉择是以数据库中的数据如何被访问为基础，获得好的物理模式的处理过程就叫做物理模式数据库设计（<strong>physical database design</strong>），在16章讨论物理设计</li>
</ul>
</li>
<li>External Schema<ul>
<li>外部模式通常和DBMS中的数据模型（<strong>data model</strong>）有关，允许数据访问在个人用户或者组用户的级别上进行定制（或者授权）。任意给定的数据库拥有一个概念模式，一个物理模式，因此它只存储了一个关系集，但是它有多个外部模式，每一个外部模式为一组特殊的用户定制。每一个外部模式包含一个或者多个视图（<strong>view</strong>）以及从概念模式中来的关系。视图概念上来说是一个关系，视图中的记录并没有存储在DBMS中而是根据视图的定义，依据存放在DBMS中的关系计算得到，第三章讨论视图</li>
<li>外部模式的设计有终端用户的需求指导。例如，可能需要允许学生找出教员教学课程的名称，以及课程注册。这些可以通过定义如下视图实现：<ul>
<li>Courseinfo(<em>cid:</em> string, <em>fname:</em> string, enrollment: integer)</li>
</ul>
</li>
<li>用户可以把视图就当做关系，并且对视图中的记录进行提问（查询）。尽管，视图中的记录并不显示的存储，它们是按需要而计算出来的。概念模式中并没有包括Courseinfo因为我们可以从概念模式中的关系计算出Courseinfo，因此存储它就会产生荣誉。这种冗余，增添了空间浪费，可能导致不一致的问题，例如，一个元组可能要插入到Enrolled关系中，表明某个学生选了某门课程，但是没有增加Courseinfo中相应记录的enrollment的值（如果Courseinfo也在概念视图中，并且其中的记录也存放在DBMS中）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Data Independence<ul>
<li>使用DBMS的一个非常重要的优势是它提供了数据独立性，数据独立性指应用程序相对于数据的结构和存储是隔离开来的。数据独立性通过三层数据抽象实现，特别是概念模式和外部模式在数据独立性这方面提供了不同的好处</li>
<li>外部模式的关系（视图关系）原则上基于对概念模型的关系的需求而生成的（实际上，视图关系可以被计算并且存储以提高在视图关系上的查询速度，但是只要底层关系发生了更新，视图也就需要进行相应的更新）。如果底层的数据发生了更新，也就是说概念模型发生了改变，视图关系的定义也可以做相应的改变。例如，假设大学数据库中的教师关系由如下两个关系所替代：<ul>
<li>Faculty-public(<em>fid:</em> string, <em>fname:</em> string, <em>office:</em> integer)</li>
<li>Faculty-private(<em>fid:</em> string, <em>sal:</em> real)</li>
</ul>
</li>
<li>可以看到，教师的一些隐私的信息被隔到一个新的关系中，并且新加了关于office的信息，而Courseinfo视图关系可以根据Faculty-public和Faculty-private（这两者一起包含了所有Faculty的信息）重新定义，因此查询Courseinfo的用户任然可以得到以前一样的结果</li>
<li>因此用户可以屏蔽掉数据逻辑结构的变化，或者存储的关系的变化。这个性质叫做数据逻辑独立性（<strong>logical data independence</strong>）</li>
<li>概念视图使得用户屏蔽掉数据物理存储的改变。这个性质叫做数据物理独立性（<strong>physical data independence</strong>），概念视图隐藏了关于数据实际上是怎么样在磁盘上分布的，文件结构，以及索引选择的细节。只要概念视图保持不变，我们可以改变存储的细节而不改变应哟花姑娘程序（当然性能可能会有不同）</li>
</ul>
</li>
</ul>
</li>
<li>QUERIES IN A DBMS<ul>
<li>从数据库中可以得到的方便就是数据库为用户决定了值，相比旧的数据库系统，关系数据库系统允许多种类型的问题很容易的被提交，这个特征对它的流行起了很重要的作用。考虑上面的大学数据库，一下是某个用户可能想要问的：<ul>
<li>id号为123456的学生的姓名</li>
<li>教授课程id，cid为CS564的教授的平均薪资是多少</li>
<li>参加课程CS564的学生一共多少人</li>
<li>课程CS564中获得B以上成绩的学生的比例</li>
<li>有没有GPA低于3.0的学生选了CS564这门课</li>
</ul>
</li>
<li>这些涉及到存储在DBMS中的数据的问题叫做查询（<strong>query</strong>），DBMS提供了一种特殊的语言，叫做查询语言（<strong>query language</strong>），可以用这个语言构成查询。关系模型的一个非常吸引人的特征是它支持非常强大的查询语言。关系演算（<strong>Relational calculus</strong>）是一种基于数学逻辑的查询语言，并且这种语言构成的查询拥有直观并且精确的意义。关系代数（<strong>Relational algebra</strong>）是另外一种形式的基于操作关系的运算集合的查询语言，和关系验算有相同的能力</li>
<li>DBMS非常谨慎尽可能的高效地评估查询。在12章和13章讨论查询优化和评估，当然查询评估的性能很大程度上取决于数据的物理存储。索引可以用来使许多查询加速——事实上，为底层的关系建立好的索引，可以使上述的那些大学数据库的查询速度更快，在第7，8，9，10章讨论数据存储和索引</li>
<li>DBMS使得用户可以通过数据操作语言（<strong>data manipulation language DML</strong>）创建（create），修改（modify），查询（query）数据。因此，查询语言仅仅是DML的一部分，DML还提供了插入（insert），删除（delete），和修改（modify）数据的结构。第5章讨论SQL中DML的特性。当被嵌入到宿主语言（<strong>host language 如C和COBOL</strong>）中时，DML和DDL统称为数据子语言（data sublanguage）</li>
</ul>
</li>
<li>TRANSACTION MANAGEMENT</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    
    <footer>
      <div class="alignleft">
      
  
  <div class="categories">
    <a href="/categories/DBMS/">DBMS</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/DBMS/">DBMS</a>
  </div>

      </div>
      <div class="clearfix"></div>
    </footer>
    
  </div>
</article>


<section id="comment">
  
            <!-- Duoshuo Comment BEGIN -->
            <div class="ds-thread"></div>
            <script type="text/javascript">
                var duoshuoQuery = {short_name:"jjliu"};
                (function() {
                    var ds = document.createElement('script');
                    ds.type = 'text/javascript';ds.async = true;
                    ds.src = 'http://static.duoshuo.com/embed.js';
                    ds.charset = 'UTF-8';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
                })();
            </script>
            <!-- Duoshuo Comment END -->
      
  
</section>

</div></div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="inner"><div class="alignleft">
  <p>
  
    &copy; 2014 Jin Liu
  
  </p>
  <p>
   Theme By <a href="http://www.jjliu.tk" >Jin</a>
   based on <a href="http://github.com/willerce/hexo-theme-noderce">Noderce</a>
  </p>

</div>
<div class="clearfix"></div>
</div></footer>
  <script type="text/javascript">

</script>

</body>
</html>
